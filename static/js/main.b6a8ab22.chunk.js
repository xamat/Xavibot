(this["webpackJsonpchatbot-ui"]=this["webpackJsonpchatbot-ui"]||[]).push([[0],{12:function(t,e,a){t.exports=a(27)},19:function(t,e,a){},20:function(t,e,a){},27:function(t,e,a){"use strict";a.r(e);var s=a(2),o=a.n(s),n=a(10),r=a.n(n);a(19),a(20),a(21);var i={threadId:null,assistantId:null,setThreadId:function(t){this.threadId=t},setAssistantId:function(t){this.assistantId=t}},d=a(5),h=a.n(d);var c={initialMessages:[Object(d.createChatBotMessage)(o.a.createElement("div",{dangerouslySetInnerHTML:{__html:'This is a chatbot designed to respond as Xavi Amatriain.<br> \n        <p>For more details on how this chatbot was created, read the <a href="https://amatria.in/blog/aidevelopment" target="_blank" rel="noopener noreferrer">blogpost</a>.It provides\n        a link to the codebase in Github among other things.</p>\n        <p>If you prefer to ask questions and listen to an audio overview, you should visit my \n        <a href="https://notebooklm.google.com/notebook/56e35827-04fd-4f93-8f7d-9eaab9bf3852?_gl=1*1ojl3rl*_ga*ODMwNTc0ODMuMTc0OTI3OTM0Mg..*_ga_W0LDH41ZCB*czE3NDkyNzkzNDIkbzEkZzAkdDE3NDkyNzkzNDIkajYwJGwwJGgw&pli=1"\n        target="_blank" rel="noopener noreferrer">NotebookLM notebook</a>\n        </p>\n        All that being said, how can I help you today, human? '}}))],botName:"XaviBot",customStyles:{botMessageBox:{backgroundColor:"#376B7E"},chatButton:{backgroundColor:"#5ccc9d"}},state:{gist:"",infoBox:""},widgets:[]};var l=class{constructor(t,e){this.actionProvider=t}parse(t){const e=t.toLowerCase();e.includes("hello")?this.actionProvider.handleHello():e.includes("help")?this.actionProvider.handleHelp():this.actionProvider.sendMessageToAssistantBackend(t)}},g=a(28);var u=class{constructor(t,e,a,s){this.createChatBotMessage=t,this.setState=e,this.createClientMessage=a,this.idToken=s,this.threadId=null,this.assistantId=null,this.sendMessageToBackend=this.sendMessageToBackend.bind(this),this.sendMessageToAssistantBackend=this.sendMessageToAssistantBackend.bind(this)}setThreadId(t){this.threadId=t}setAssistantId(t){this.assistantId=t}addBotMessage(t){const e=this.createChatBotMessage(t);this.updateChatbotState(e)}greet(){const t=this.createChatBotMessage("Hello! How can I help you?");this.updateChatbotState(t)}handleHello(){const t=this.createChatBotMessage("Hello! How can I help you?");this.updateChatbotState(t)}handleHelp(){const t=this.createChatBotMessage("Here's some help...");this.updateChatbotState(t)}handleUnknown(){const t=this.createChatBotMessage("Sorry, I didn't understand that.");this.updateChatbotState(t)}async sendMessageToBackend(t){try{const e=await g.a.post("http://localhost:8080/chatWithAssistant",{message:t,threadId:this.threadId,assistantId:this.assistantId});e.data&&e.data.message?this.addBotMessage(e.data.message):this.addBotMessage("Sorry, I received an empty response from the server.")}catch(e){console.error("Error communicating with backend:",e),this.addBotMessage("Sorry, I encountered an error while processing your message.")}}async sendMessageToAssistantBackend(t){try{const e=await g.a.post("http://localhost:8080/chatWithAssistant",{message:t,threadId:this.threadId,assistantId:this.assistantId});e.data&&e.data.message?this.addBotMessage(e.data.message):this.addBotMessage("Sorry, I received an empty response from the server.")}catch(e){console.error("Error communicating with assistant backend:",e),this.addBotMessage("Sorry, I encountered an error while processing your message.")}}addMessageToChat(t){const e=this.createChatBotMessage(t);this.updateChatbotState(e)}updateChatbotState(t){this.setState(e=>({...e,messages:[...e.messages,t]}))}};var p=function(){const[t,e]=Object(s.useState)(!1);return Object(s.useEffect)(()=>{(async()=>{try{const t="http://localhost:8080",a=await g.a.post(t+"/get-assistant");i.setAssistantId(a.data);const s=await g.a.post(t+"/create-thread");i.setThreadId(s.data),e(!0)}catch(t){console.error("Error initializing chatbot:",t)}})()},[]),t?o.a.createElement(h.a,{config:c,headerText:"Xavibot",actionProvider:class extends u{constructor(t,e,a){super(t,e,a,null),this.setThreadId(i.threadId),this.setAssistantId(i.assistantId)}},messageParser:l}):o.a.createElement("div",null,"Initializing chatbot...")};var m=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(p,null)))};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m,null)))}},[[12,1,2]]]);
//# sourceMappingURL=main.b6a8ab22.chunk.js.map